<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Model formulation · -- IESopt --</title><meta name="title" content="Model formulation · -- IESopt --"/><meta property="og:title" content="Model formulation · -- IESopt --"/><meta property="twitter:title" content="Model formulation · -- IESopt --"/><meta name="description" content="Documentation for -- IESopt --."/><meta property="og:description" content="Documentation for -- IESopt --."/><meta property="twitter:description" content="Documentation for -- IESopt --."/><meta property="og:url" content="https://ait-energy.github.io/IESopt.jl/pages/manual___reference/core_components/"/><meta property="twitter:url" content="https://ait-energy.github.io/IESopt.jl/pages/manual___reference/core_components/"/><link rel="canonical" href="https://ait-energy.github.io/IESopt.jl/pages/manual___reference/core_components/"/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script><link href="../../../assets/base_template.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">-- IESopt --</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../tutorials/templates_1/">Templates: Part I</a></li></ul></li><li><span class="tocitem">Manual / Reference</span><ul><li class="is-active"><a class="tocitem" href>Model formulation</a></li><li><a class="tocitem" href="../api/">API</a></li></ul></li><li><a class="tocitem" href="../../dev_docs/">Developer Documentation</a></li><li><a class="tocitem" href="../../changelog/">Changelog</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual / Reference</a></li><li class="is-active"><a href>Model formulation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Model formulation</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/ait-energy/IESopt.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/ait-energy/IESopt.jl/blob/dev/docs/src/pages/manual___reference/core_components.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Model-formulation"><a class="docs-heading-anchor" href="#Model-formulation">Model formulation</a><a id="Model-formulation-1"></a><a class="docs-heading-anchor-permalink" href="#Model-formulation" title="Permalink"></a></h1><p>This page collects all information about the core components of IESopt, their properties (and default values), their internal mathematical formulations, and some examples of how to use them. See the <a href="../api/#API">API</a> for a complete list of all available functions and types.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="IESopt.Connection" href="#IESopt.Connection"><code>IESopt.Connection</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>nothing</p><p><strong>Parameters</strong></p><table><tr><th style="text-align: left">Name</th><th style="text-align: left">Mandatory</th><th style="text-align: left">Values</th><th style="text-align: left">Unit</th><th style="text-align: left">Default</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>node_from</code></td><td style="text-align: left">yes</td><td style="text-align: left">string</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left">This <code>Connection</code> models a flow from <code>node_from</code> to <code>node_to</code> (both are <code>Node</code>s).</td></tr><tr><td style="text-align: left"><code>node_to</code></td><td style="text-align: left">yes</td><td style="text-align: left">string</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left">This <code>Connection</code> models a flow from <code>node_from</code> to <code>node_to</code> (both are <code>Node</code>s).</td></tr><tr><td style="text-align: left"><code>carrier</code></td><td style="text-align: left">no</td><td style="text-align: left">string</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"><code>Carrier</code> of this <code>Connection</code>. If not given, automatically picks the <code>carrier</code> of the <code>Node</code>s it connects. This parameter is not necessary, and only exists to allow for a more explicit definition.</td></tr><tr><td style="text-align: left"><code>capacity</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric, <code>col@file</code>, <code>decision:value</code></td><td style="text-align: left">power</td><td style="text-align: left"><span>$+\infty$</span></td><td style="text-align: left">The symmetric bound on this <code>Connection</code>&#39;s flow. Results in <code>lb = -capacity</code> and <code>ub = capacity</code>. Must not be specified if <code>lb</code>, <code>ub</code>, or both are explicitly stated.</td></tr><tr><td style="text-align: left"><code>lb</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric, <code>col@file</code>, <code>decision:value</code></td><td style="text-align: left">power</td><td style="text-align: left"><span>$-\infty$</span></td><td style="text-align: left">Lower bound of this <code>Connection</code>&#39;s flow.</td></tr><tr><td style="text-align: left"><code>ub</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric, <code>col@file</code>, <code>decision:value</code></td><td style="text-align: left">power</td><td style="text-align: left"><span>$+\infty$</span></td><td style="text-align: left">Upper bound of this <code>Connection</code>&#39;s flow.</td></tr><tr><td style="text-align: left"><code>cost</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">monetary (per energy)</td><td style="text-align: left">-</td><td style="text-align: left">Cost of every unit of energy flow over this connection that is added to the model&#39;s objective function. Keep in mind that negative flows will induce negative costs, which can be used to model revenues. Further, a bidirectional <code>Connection</code> (if <code>lb &lt; 0</code>, which is the default, or if <code>capacity</code> is used) with a positive <code>cost</code> will lead to negative costs for the reverse flow. If you do not want this, split the <code>Connection</code> into two separate ones, each being unidirectional (with <code>lb: 0</code>). Remember, that these can share the same &quot;capacity&quot; (which is then set as<code>ub</code>), even when using <code>decision:value</code> or <code>col@file</code> as value.</td></tr><tr><td style="text-align: left"><code>loss</code></td><td style="text-align: left">no</td><td style="text-align: left"><span>$\in [0, 1]$</span></td><td style="text-align: left">-</td><td style="text-align: left">0</td><td style="text-align: left">Fractional loss when transferring energy. This loss occurs &quot;at the destination&quot;, which means that for a loss of 5%, set as <code>loss: 0.05</code>, and considering a <code>Snapshot</code> where the <code>Connection</code> has a flow value of <code>100</code>, it will &quot;extract&quot; <code>100</code> from <code>node_from</code> and &quot;inject&quot; <code>95</code> into <code>node_to</code>. Since the flow variable is given as power, this would, e.g., translate to consuming 200 units of energy at <code>node_from</code> and injecting 190 units at <code>node_to</code>, if the <code>Snapshot</code> duration is 2 hours.</td></tr><tr><td style="text-align: left"><code>build_priority</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">-</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Priority for the build order of components. Components with higher build_priority are built before. This can be useful for addons, that connect multiple components and rely on specific components being initialized before others.</td></tr></table><p><strong>Detailed Model Reference</strong></p><p><strong>Variables</strong></p><details class="admonition is-details"><summary class="admonition-header">flow</summary><div class="admonition-body"><p>nothing</p></div></details><p><strong>Expressions</strong></p><details class="admonition is-details"><summary class="admonition-header">pf_flow</summary><div class="admonition-body"><p>nothing</p></div></details><p><strong>Constraints</strong></p><details class="admonition is-details"><summary class="admonition-header">flow_bounds</summary><div class="admonition-body"><p>nothing</p></div></details><p><strong>Objectives</strong></p><details class="admonition is-details"><summary class="admonition-header">cost</summary><div class="admonition-body"><p>nothing</p></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ait-energy/IESopt.jl/blob/4d05afd70c2d2c47c4db5555c14f199f11addb80/src/core/connection.jl#L1-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="IESopt.Decision" href="#IESopt.Decision"><code>IESopt.Decision</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>nothing</p><p><strong>Parameters</strong></p><table><tr><th style="text-align: left">Name</th><th style="text-align: left">Mandatory</th><th style="text-align: left">Values</th><th style="text-align: left">Unit</th><th style="text-align: left">Default</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>lb</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">-</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Minimum size of the decision value (considered for each &quot;unit&quot; if count allows multiple &quot;units&quot;).</td></tr><tr><td style="text-align: left"><code>ub</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">-</td><td style="text-align: left"><span>$+\infty$</span></td><td style="text-align: left">Maximum size of the decision value (considered for each &quot;unit&quot; if count allows multiple &quot;units&quot;).</td></tr><tr><td style="text-align: left"><code>cost</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">monetary (per value)</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Cost that the decision value induces, given as <span>$cost \cdot value$</span>.</td></tr><tr><td style="text-align: left"><code>fixed_value</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left">If <code>mode: fixed</code>, this value is used as the fixed value of the decision. This can be useful if this <code>Decision</code> was used in a previous optimization and its value should be fixed to that value in the next optimization (applying it where ever it is used, instead of needing to find all usages). Furthermore, this allows extracting the dual value of the constraint that fixes the value, assisting in approaches like Benders decomposition. Note that this does not change the induced cost in any way.</td></tr><tr><td style="text-align: left"><code>fixed_cost</code></td><td style="text-align: left">no</td><td style="text-align: left">-</td><td style="text-align: left">monetary</td><td style="text-align: left">-</td><td style="text-align: left">This setting activates a &quot;fixed cost&quot; component for this decision variable, which requires that the model&#39;s problem type allows for binary variables (e.g., <code>MILP</code>). This can be used to model fixed costs that are only incurred if the decision variable is active (e.g., a fixed cost for an investment that is only incurred if the investment is made). If the decision is <code>0</code>, no fixed costs have to be paid; however, if the decision is greater than <code>0</code>, the fixed cost is incurred. Note that after deciding to activate the decision, the overall value is still determined in the usual (continuous) way, incuring the (variable) <code>cost</code> as well. More complex cost functions can be modelled by switching to mode <code>sos1</code> or <code>sos2</code> and using the <code>sos</code> parameter.</td></tr><tr><td style="text-align: left"><code>mode</code></td><td style="text-align: left">no</td><td style="text-align: left"><code>linear</code>, <code>binary</code>, <code>integer</code>, <code>sos1</code>, <code>sos2</code>, <code>fixed</code></td><td style="text-align: left">-</td><td style="text-align: left"><code>linear</code></td><td style="text-align: left">Type of the decision variable that is constructed. <code>linear</code> results in a continuous decision, <code>integer</code> results in a integer variable, <code>binary</code> constrains it to be either <code>0</code> or <code>1</code>. <code>sos1</code> and <code>sos2</code> can be used to activate SOS1 or SOS2 mode (used for piecewise linear costs). See <code>fixed_value</code> if setting this to <code>fixed</code>.</td></tr><tr><td style="text-align: left"><code>sos</code></td><td style="text-align: left">no</td><td style="text-align: left">list</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left">TODO (meanwhile, refer to the SOS or PiecewiseLinearCost example).</td></tr><tr><td style="text-align: left"><code>build_priority</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">-</td><td style="text-align: left"><code>1000</code></td><td style="text-align: left">Priority for the build order of components. Components with higher build_priority are built before. This can be useful for addons, that connect multiple components and rely on specific components being initialized before others.</td></tr></table><p><strong>Detailed Model Reference</strong></p><p><strong>Variables</strong></p><details class="admonition is-details"><summary class="admonition-header">fixed</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">sos</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">value</summary><div class="admonition-body"><p>nothing</p></div></details><p><strong>Expressions</strong></p><p><strong>Constraints</strong></p><details class="admonition is-details"><summary class="admonition-header">fixed</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">sos1</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">sos2</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">sos_value</summary><div class="admonition-body"><p>nothing</p></div></details><p><strong>Objectives</strong></p><details class="admonition is-details"><summary class="admonition-header">fixed</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">sos</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">value</summary><div class="admonition-body"><p>nothing</p></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ait-energy/IESopt.jl/blob/4d05afd70c2d2c47c4db5555c14f199f11addb80/src/core/decision.jl#L1-L71">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="IESopt.Node" href="#IESopt.Node"><code>IESopt.Node</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>nothing</p><p><strong>Parameters</strong></p><table><tr><th style="text-align: left">Name</th><th style="text-align: left">Mandatory</th><th style="text-align: left">Values</th><th style="text-align: left">Unit</th><th style="text-align: left">Default</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>carrier</code></td><td style="text-align: left">yes</td><td style="text-align: left">string</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"><code>Carrier</code> of this <code>Node</code>. All connecting components need to respect that.</td></tr><tr><td style="text-align: left"><code>has_state</code></td><td style="text-align: left">no</td><td style="text-align: left"><code>true</code>, <code>false</code></td><td style="text-align: left">-</td><td style="text-align: left"><code>false</code></td><td style="text-align: left">If <code>true</code>, the <code>Node</code> is considered to have an internal state (&quot;stateful <code>Node</code>&quot;). This allows it to act as energy storage. Connect <code>Connection</code>s or <code>Unit</code>s to it, acting as charger/discharger.</td></tr><tr><td style="text-align: left"><code>state_lb</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric, <code>col@file</code>, <code>decision:value</code></td><td style="text-align: left">energy</td><td style="text-align: left"><span>$-\infty$</span></td><td style="text-align: left">Lower bound of the internal state, requires <code>has_state = true</code>.</td></tr><tr><td style="text-align: left"><code>state_ub</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric, <code>col@file</code>, <code>decision:value</code></td><td style="text-align: left">energy</td><td style="text-align: left"><span>$+\infty$</span></td><td style="text-align: left">Upper bound of the internal state, requires <code>has_state = true</code>.</td></tr><tr><td style="text-align: left"><code>state_cyclic</code></td><td style="text-align: left">no</td><td style="text-align: left"><code>eq</code>, <code>geq</code>, or <code>disabled</code></td><td style="text-align: left">-</td><td style="text-align: left"><code>eq</code></td><td style="text-align: left">Controls how the state considers the boundary between last and first <code>Snapshot</code>. <code>disabled</code> disables cyclic behaviour of the state (see also <code>state_initial</code>), <code>eq</code> leads to the state at the end of the year being the initial state at the beginning of the year, while <code>geq</code> does the same while allowing the end-of-year state to be higher (= &quot;allowing to destroy energy at the end of the year&quot;).</td></tr><tr><td style="text-align: left"><code>state_initial</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">energy</td><td style="text-align: left">-</td><td style="text-align: left">Sets the initial state. Must be used in combination with <code>state_cyclic = disabled</code>.</td></tr><tr><td style="text-align: left"><code>state_final</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">energy</td><td style="text-align: left">-</td><td style="text-align: left">Sets the final state. Must be used in combination with <code>state_cyclic = disabled</code>.</td></tr><tr><td style="text-align: left"><code>state_percentage_loss</code></td><td style="text-align: left">no</td><td style="text-align: left"><span>$\in [0, 1]$</span></td><td style="text-align: left">-</td><td style="text-align: left">0</td><td style="text-align: left">Per <code>Snapshot</code> percentage loss of state (losing 1% should be set as <code>0.01</code>).</td></tr><tr><td style="text-align: left"><code>nodal_balance</code></td><td style="text-align: left">no</td><td style="text-align: left"><code>enforce</code>, <code>destroy</code>, or <code>create</code></td><td style="text-align: left">-</td><td style="text-align: left"><code>enforce</code></td><td style="text-align: left">Can only be used for <code>has_state = false</code>. <code>enforce</code> forces total injections to always be zero (similar to Kirchhoff&#39;s current law), <code>create</code> allows &quot;supply &lt; demand&quot;, <code>destroy</code> allows &quot;supply &gt; demand&quot;, at this <code>Node</code>.</td></tr><tr><td style="text-align: left"><code>sum_window_size</code></td><td style="text-align: left">no</td><td style="text-align: left">integer</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left">TODO.</td></tr><tr><td style="text-align: left"><code>sum_window_step</code></td><td style="text-align: left">no</td><td style="text-align: left">integer</td><td style="text-align: left">-</td><td style="text-align: left"><code>1</code></td><td style="text-align: left">TODO.</td></tr><tr><td style="text-align: left"><code>build_priority</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">-</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Priority for the build order of components. Components with higher build_priority are built before. This can be useful for addons, that connect multiple components and rely on specific components being initialized before others.</td></tr></table><p><strong>Detailed Model Reference</strong></p><p><strong>Variables</strong></p><details class="admonition is-details"><summary class="admonition-header">pf_theta</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">state</summary><div class="admonition-body"><p>nothing</p></div></details><p><strong>Expressions</strong></p><details class="admonition is-details"><summary class="admonition-header">injection</summary><div class="admonition-body"><p>nothing</p></div></details><p><strong>Constraints</strong></p><details class="admonition is-details"><summary class="admonition-header">last_state</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">nodalbalance</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">state_bounds</summary><div class="admonition-body"><p>nothing</p></div></details><p><strong>Objectives</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ait-energy/IESopt.jl/blob/4d05afd70c2d2c47c4db5555c14f199f11addb80/src/core/node.jl#L1-L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="IESopt.Profile" href="#IESopt.Profile"><code>IESopt.Profile</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>nothing</p><p><strong>Parameters</strong></p><table><tr><th style="text-align: left">Name</th><th style="text-align: left">Mandatory</th><th style="text-align: left">Values</th><th style="text-align: left">Unit</th><th style="text-align: left">Default</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>carrier</code></td><td style="text-align: left">yes</td><td style="text-align: left">string</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"><code>Carrier</code> of this <code>Profile</code>. Must match the <code>Carrier</code> of the <code>Node</code> that this connects to.</td></tr><tr><td style="text-align: left"><code>value</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric, <code>col@file</code></td><td style="text-align: left">power</td><td style="text-align: left">-</td><td style="text-align: left">The concrete value of this <code>Profile</code> - either static or as time series. Only applicable if <code>mode: fixed</code>.</td></tr><tr><td style="text-align: left"><code>node_from</code></td><td style="text-align: left">no</td><td style="text-align: left">string</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left">Name of the <code>Node</code> that this <code>Profile</code> draws energy from. Exactly one of <code>node_from</code> and <code>node_to</code> must be set.</td></tr><tr><td style="text-align: left"><code>node_to</code></td><td style="text-align: left">no</td><td style="text-align: left">string</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left">Name of the <code>Node</code> that this <code>Profile</code> feeds energy to. Exactly one of <code>node_from</code> and <code>node_to</code> must be set.</td></tr><tr><td style="text-align: left"><code>mode</code></td><td style="text-align: left">no</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left"><code>fixed</code></td><td style="text-align: left">The mode of operation of this <code>Profile</code>. <code>fixed</code> uses the supplied <code>value</code>, <code>ranged</code> allows ranging between <code>lb</code> and <code>ub</code>, while <code>create</code> (must specify <code>node_to</code>) and <code>destroy</code> (must specify <code>node_from</code>) handle arbitrary energy flows that are bounded from below by <code>0</code>. Use <code>fixed</code> if you want to fix the value of the <code>Profile</code> to a specific value, e.g., a given energy demand. Use <code>create</code> to &quot;import&quot; energy into the model, e.g., from a not explicitly modelled gas market, indcucing a certain <code>cost</code> for buying that energy. Use <code>destroy</code> to &quot;export&quot; energy from the model, e.g., to handle CO2 going into the atmosphere (which may be taxed, etc., by the <code>cost</code> of this <code>Profile</code>). Use <code>ranged</code> if you need more fine grained control over the value of the <code>Profile</code>, than what <code>create</code> and <code>destroy</code> allow (e.g., a grid limited energy supplier).</td></tr><tr><td style="text-align: left"><code>lb</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">power</td><td style="text-align: left"><span>$-\infty$</span></td><td style="text-align: left">The lower bound of the range of this <code>Profile</code> (must be used together with <code>mode: ranged</code>).</td></tr><tr><td style="text-align: left"><code>ub</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">power</td><td style="text-align: left"><span>$+\infty$</span></td><td style="text-align: left">The upper bound of the range of this <code>Profile</code> (must be used together with <code>mode: ranged</code>).</td></tr><tr><td style="text-align: left"><code>cost</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">monetary per energy</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Cost per unit of energy that this <code>Profile</code> injects or withdraws from a <code>Node</code>. Refer to the basic examples to see how this can be combined with <code>mode</code> for different use cases.</td></tr><tr><td style="text-align: left"><code>build_priority</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">-</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Priority for the build order of components. Components with higher build_priority are built before. This can be useful for addons, that connect multiple components and rely on specific components being initialized before others.</td></tr></table><p><strong>Detailed Model Reference</strong></p><p><strong>Variables</strong></p><details class="admonition is-details"><summary class="admonition-header">aux_value</summary><div class="admonition-body"><p>nothing</p></div></details><p><strong>Expressions</strong></p><details class="admonition is-details"><summary class="admonition-header">value</summary><div class="admonition-body"><p>nothing</p></div></details><p><strong>Constraints</strong></p><details class="admonition is-details"><summary class="admonition-header">value_bounds</summary><div class="admonition-body"><p>nothing</p></div></details><p><strong>Objectives</strong></p><details class="admonition is-details"><summary class="admonition-header">cost</summary><div class="admonition-body"><p>nothing</p></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ait-energy/IESopt.jl/blob/4d05afd70c2d2c47c4db5555c14f199f11addb80/src/core/profile.jl#L1-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="IESopt.Unit" href="#IESopt.Unit"><code>IESopt.Unit</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>nothing</p><p><strong>Parameters</strong></p><table><tr><th style="text-align: left">Name</th><th style="text-align: left">Mandatory</th><th style="text-align: left">Values</th><th style="text-align: left">Unit</th><th style="text-align: left">Default</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>conversion</code></td><td style="text-align: left">yes</td><td style="text-align: left">string</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left">The conversion expression describing how this <code>Unit</code> transforms energy. Specified in the form of &quot;<span>$\alpha \cdot carrier_1 + \beta \cdot carrier_2$</span> -&gt; <span>$\gamma \cdot carrier_3 + \delta \cdot carrier_4$</span>&quot;. Coefficients allow simple numerical calculations, but are not allowed to include spaces (so e.g. <code>(1.0/9.0)</code> is valid). Coefficients are allowed to be <code>NumericalInput</code>s, resulting in <code>column@data_file</code> being a valid coefficient (this can be used e.g. for time-varying COPs of heatpumps).</td></tr><tr><td style="text-align: left"><code>capacity</code></td><td style="text-align: left">yes</td><td style="text-align: left">value dir:carrier</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left">Maximum capacity of this <code>Unit</code>, to be given in the format <code>X in/out:carrier</code> where <code>X</code> is the amount, <code>in</code> or <code>out</code> (followed by <code>:</code>) specifies whether the limit is to be placed on the in- our output of this <code>Unit</code>, and <code>carrier</code> specifies the respective <code>Carrier</code>. Example: <code>100 in:electricity</code> (to limit the &quot;input rating&quot;).</td></tr><tr><td style="text-align: left"><code>outputs</code></td><td style="text-align: left">yes</td><td style="text-align: left">dict</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left">Dictionary specifying the output &quot;ports&quot; of this <code>Unit</code>. Refer to the basic examples for the general syntax.</td></tr><tr><td style="text-align: left"><code>inputs</code></td><td style="text-align: left">no</td><td style="text-align: left">dict</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left">Dictionary specifying the input &quot;ports&quot; of this <code>Unit</code>. If not specified (= no explicit input), the <code>conversion</code> has to follow the form of <code>conversion: ~ -&gt; ...</code>, indicating an &quot;open&quot; input. This may, e.g., be used for renewable energy sources, where the primary energy input (e.g., solar) is not explicitly modeled.</td></tr><tr><td style="text-align: left"><code>availability</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">power</td><td style="text-align: left"><span>$+\infty$</span></td><td style="text-align: left">Time series (or fixed value) that limits the available capacity. If, e.g., <code>capacity: 100 out:electricity</code> and <code>availability: 70</code>, the available capacity will only be <code>70 electricity</code>. Can be used to model non-availability of power plants, e.g., due to maintenance. For time-varying availability of intermittent generators (e.g., wind), it&#39;s recommended (most of the time) to use <code>availability_factor</code> instead.</td></tr><tr><td style="text-align: left"><code>availability_factor</code></td><td style="text-align: left">no</td><td style="text-align: left"><span>$\in [0, 1]$</span></td><td style="text-align: left">-</td><td style="text-align: left"><code>1</code></td><td style="text-align: left">Similar to <code>availability</code>, but given as factor of <code>capacity</code> instead. If, e.g., <code>capacity: 100 out:electricity</code> and <code>availability_factor: 0.7</code>, the available capacity will only be <code>70 electricity</code>. This is especially useful for intermittent generators, where the availability is not a fixed value, but depends on the weather, and can be passed, e.g., by setting <code>availability_factor: wind@input_data_file</code>.</td></tr><tr><td style="text-align: left"><code>adapt_min_to_availability</code></td><td style="text-align: left">no</td><td style="text-align: left"><code>true</code>, <code>false</code></td><td style="text-align: left">-</td><td style="text-align: left"><code>false</code></td><td style="text-align: left">If <code>true</code>, the minimal partial load will be influenced by the availability. Example: Consider a <code>Unit</code> with <code>capacity: 100 out:electricity</code>, a <code>min_conversion</code> of <code>0.4</code>, and an <code>availability_factor</code> of <code>0.5</code>. This entails having <code>50 electricity</code> available, while the minimal partial load is <code>40 electricity</code>. This results in the <code>Unit</code> at best operating only closely above the minimal partial load. Furthermore, an <code>availability_factor</code> below <code>0.4</code> would result in no feasible generation, besides shutting the <code>Unit</code> off. While this might be the intended mode of operation in many use cases, <code>adapt_min_to_availability</code> can change this: If set to <code>true</code>, this dynamically changes the minimal partial load. In the previous example, that means <code>(100 * 0.5) * 0.4 = 20 electricity</code> (the 50% minimum load are now based on the available 40), changing the overall behaviour (including efficiencies) as well as leading to feasible generations even when the <code>availability_factor</code> is below <code>0.4</code>.</td></tr><tr><td style="text-align: left"><code>marginal_cost</code></td><td style="text-align: left">no</td><td style="text-align: left"><code>value per dir:carrier</code></td><td style="text-align: left">monetary per energy</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Marginal cost of the consumption/generation of one unit of energy of the specified carrier. Has to be given in the format <code>value per dir:carrier</code>, e.g. <code>3.5 per out:electricity</code> for a marginal cost of 3.5 monetary units per unit of electricity generated.</td></tr><tr><td style="text-align: left"><code>enable_ramp_up</code></td><td style="text-align: left">no</td><td style="text-align: left"><code>true</code>, <code>false</code></td><td style="text-align: left">-</td><td style="text-align: left"><code>false</code></td><td style="text-align: left">Enables calculation of upward ramps. Ramping is based on the carrier specified in <code>capacity</code>.</td></tr><tr><td style="text-align: left"><code>enable_ramp_down</code></td><td style="text-align: left">no</td><td style="text-align: left"><code>true</code>, <code>false</code></td><td style="text-align: left">-</td><td style="text-align: left"><code>false</code></td><td style="text-align: left">Enables calculation of downward ramps. Ramping is based on the carrier specified in <code>capacity</code>.</td></tr><tr><td style="text-align: left"><code>ramp_up_cost</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">monetary per power</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Sets the cost of ramping up (increasing in-/output) by 1 unit of the capacity carrier.</td></tr><tr><td style="text-align: left"><code>ramp_down_cost</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">monetary per power</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Sets the cost of ramping down (decreasing in-/output) by 1 unit of the capacity carrier.</td></tr><tr><td style="text-align: left"><code>ramp_up_limit</code></td><td style="text-align: left">no</td><td style="text-align: left"><span>$\in [0, 1]$</span></td><td style="text-align: left">-</td><td style="text-align: left"><code>1</code></td><td style="text-align: left">Limits the allowed ramping up based on this factor of the total capacity. If <code>capacity: 100 in:electricity</code> with <code>ramp_up_limit: 0.2</code>, this limits the total increase of usage of electricity (on the input) to 20 units (power) per hour. For example, starting at an input of 35, after one hour the input has to be lesser than or equal to 55. If a <code>Snapshot</code>&#39;s duration is set to, e.g., two hours, this would allow a total increase of 40 units.</td></tr><tr><td style="text-align: left"><code>ramp_down_limit</code></td><td style="text-align: left">no</td><td style="text-align: left"><span>$\in [0, 1]$</span></td><td style="text-align: left">-</td><td style="text-align: left"><code>1</code></td><td style="text-align: left">Limits the allowed ramping down based on this factor of the total capacity. See <code>ramp_up_limit</code>.</td></tr><tr><td style="text-align: left"><code>min_on_time</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">hours</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Minimum on-time of the <code>Unit</code>. If set, the <code>Unit</code> has to be on for at least this amount of time, after turning on. It is highly recommended to only use this with <code>unit_commitment: binary</code>, unless you know why it&#39;s fine to use with another mode.</td></tr><tr><td style="text-align: left"><code>min_off_time</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">hours</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Minimum off-time of the <code>Unit</code>. If set, the <code>Unit</code> has to be off for at least this amount of time, after turning off. It is highly recommended to only use this with <code>unit_commitment: binary</code>, unless you know why it&#39;s fine to use with another mode.</td></tr><tr><td style="text-align: left"><code>on_time_before</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">hours</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Time that this <code>Unit</code> has already been running before the optimization starts. Can be used in combination with <code>min_on_time</code>.</td></tr><tr><td style="text-align: left"><code>off_time_before</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">hours</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Time that this <code>Unit</code> has already been off before the optimization starts. Can be used in combination with <code>min_off_time</code>.</td></tr><tr><td style="text-align: left"><code>is_on_before</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">-</td><td style="text-align: left"><code>1</code></td><td style="text-align: left">Number of <code>Unit</code>s that should be considered to have been running before the optimization starts. Can be used in combination with <code>on_time_before</code>, especially for <code>unit_count</code> greater than 1.</td></tr><tr><td style="text-align: left"><code>unit_commitment</code></td><td style="text-align: left">no</td><td style="text-align: left"><code>off</code>, <code>linear</code>, <code>binary</code>, <code>integer</code></td><td style="text-align: left">-</td><td style="text-align: left"><code>off</code></td><td style="text-align: left">Controls how the unit commitment of this <code>Unit</code> is handled. <code>linear</code> results in the ability to startup parts of the unit (so <code>0.314159</code> is a feasible amount of &quot;turned on unit&quot;), while <code>binary</code> restricts the <code>Unit</code> to either be on (converting the <code>conversion_at_min</code> + possible additional conversion above that minimum) or off (converting nothing); <code>integer</code> is needed to consider <code>binary</code> unit commitment for <code>Unit</code>s with more than 1 &quot;grouped unit&quot; (see <code>unit_count</code>).</td></tr><tr><td style="text-align: left"><code>unit_count</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">-</td><td style="text-align: left"><code>1</code></td><td style="text-align: left">Number of units aggregated in this <code>Unit</code>. Besides interacting with the mode of <code>unit_commitment</code>, this mainly is responsible for scaling the output (e.g. grouping 47 of the same wind turbine, ...).</td></tr><tr><td style="text-align: left"><code>min_conversion</code></td><td style="text-align: left">no</td><td style="text-align: left"><span>$\in [0, 1]$</span></td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left">If <code>unit_commitment</code> is not set to <code>off</code>, this specifies the percentage that is considered to be the minimal feasible partial load this <code>Unit</code> can operate at. Operating below that setpoint is not allowed, at that point the <code>conversion_at_min</code> coefficients are used, and above that they are scaled to result in <code>conversion</code> when running at full capacity.</td></tr><tr><td style="text-align: left"><code>conversion_at_min</code></td><td style="text-align: left">no</td><td style="text-align: left">string</td><td style="text-align: left">-</td><td style="text-align: left">-</td><td style="text-align: left">The conversion expression while running on the minimal partial load. Only applicable if <code>unit_commitment</code> is not <code>off</code> and <code>min_conversion</code> is explicitly set. Follows the same form as <code>conversion</code>.</td></tr><tr><td style="text-align: left"><code>startup_cost</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">monetary per start</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Costs per startup (also applicable if startups are not binary or integer). This is necessary to allow <code>conversion_at_min</code> to have (at least partially) the effect that one expects, if <code>unit_commitment: linear</code>.</td></tr><tr><td style="text-align: left"><code>build_priority</code></td><td style="text-align: left">no</td><td style="text-align: left">numeric</td><td style="text-align: left">-</td><td style="text-align: left"><code>0</code></td><td style="text-align: left">Priority for the build order of components. Components with higher build_priority are built before. This can be useful for addons, that connect multiple components and rely on specific components being initialized before others.</td></tr></table><p><strong>Detailed Model Reference</strong></p><p><strong>Variables</strong></p><details class="admonition is-details"><summary class="admonition-header">conversion</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">ison</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">ramp</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">startup</summary><div class="admonition-body"><p>nothing</p></div></details><p><strong>Expressions</strong></p><p><strong>Constraints</strong></p><details class="admonition is-details"><summary class="admonition-header">conversion_bounds</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">ison</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">min_onoff_time</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">ramp</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">ramp_limit</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">startup</summary><div class="admonition-body"><p>nothing</p></div></details><p><strong>Objectives</strong></p><details class="admonition is-details"><summary class="admonition-header">marginal_cost</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">ramp_cost</summary><div class="admonition-body"><p>nothing</p></div></details><details class="admonition is-details"><summary class="admonition-header">startup_cost</summary><div class="admonition-body"><p>nothing</p></div></details></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ait-energy/IESopt.jl/blob/4d05afd70c2d2c47c4db5555c14f199f11addb80/src/core/unit.jl#L1-L100">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../tutorials/templates_1/">« Templates: Part I</a><a class="docs-footer-nextpage" href="../api/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Thursday 21 November 2024 01:58">Thursday 21 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body><div data-docstringscollapsed="true"></div></html>
